{% extends "base.html" %}

{% load static from staticfiles %}
{% block title %}Beginning SensingBus Template{% endblock %}

{% block content %}

  <!-- Datetimepicker -->
  <script type="text/javascript" src="{% static 'js/moment.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/bootstrap-datetimepicker.min.js' %}"></script>
  <link rel="stylesheet" href="{% static 'css/bootstrap-datetimepicker.min.css' %}"/>

<div class ="container" style="height:87%; width:100%">
  <div class="row" style="height:100%; width:100%;">
    <div class="col-md-8" id="map" style="height:500px; width:500px;">
    </div>
    <div class="col-md-4" id="welcome-pane">
      <div class="panel panel-primary">
        <!-- Default panel contents -->
        <div class="panel-heading">Search Measurements</div>
        <div class="panel-body">
          <div class="form-group">

            <form class="form-horizontal">
              {{ form.non_field_errors }}
              {% for field in form %}


              <div class="form-group row">
                <label for="{{field.id_for_label}}" class="control-label col-xs-4">{{field.label}}</label>
                {% if not field.field.widget.attrs.type %}
                <div class="col-xs-8 ">
                  <input class="form-control" type="{{ field.field.widget.input_type }}" id="{{field.id_for_label}}" placeholder="{{field.initial}}">
                </div>
                {% else %}
                  {% if field.field.widget.attrs.type == 'date' %}
                <div class="col-xs-8 input-group date" id="{{field.id_for_label}}" style="padding-left: 15px; padding-right: 15px;">
                  <input type="text" class="form-control" id="{{field.id_for_label}}" placeholder="{{field.initial}}"/>
                  <span class="input-group-addon">
                      <span class="glyphicon glyphicon-calendar"></span>
                  </span>
                </div>
                <script type="text/javascript">
                    $(function () {
                        $('#{{field.id_for_label}}').datetimepicker();
                    });
                </script>
                  {% endif %}
                  {% if field.field.widget.attrs.type == 'radio' %}
                <div class="col-xs-8">
                    {% for option in field.field.choices %}
                  <div class="radio">
                    <label><input class="form-control" type="radio" name="{{field.id_for_label}}">{{option.1}}</label>
                  </div>
                    {% endfor %}

                </div>


                  {% endif %}
                {% endif %}
              </div>
              {% endfor %}
            </form>
          </div>
        </div>
      </div> <!-- End Panel -->
    </div>
  </div>
</div>



<script src="http://maps.googleapis.com/maps/api/js?sensor=false&libraries=visualization"></script>


<script>
  var map, heatmap;
  var locations = {
    central: {lat: -22.90495, lng: -43.19063},
    cidade_nova: {lat: -22.86557808, lng: -43.22364807 }
  };

  function initMap() {
    map = new google.maps.Map(document.getElementById('map'), {
      center: locations['cidade_nova'],
      zoom: 18,
      styles: [ { "elementType": "geometry", "stylers": [ { "color": "#212121" } ] }, { "elementType": "labels.icon", "stylers": [ { "visibility": "off" } ] }, { "elementType": "labels.text.fill", "stylers": [ { "color": "#757575" } ] }, { "elementType": "labels.text.stroke", "stylers": [ { "color": "#212121" } ] }, { "featureType": "administrative", "elementType": "geometry", "stylers": [ { "color": "#757575" } ] }, { "featureType": "administrative.country", "elementType": "labels.text.fill", "stylers": [ { "color": "#9e9e9e" } ] }, { "featureType": "administrative.land_parcel", "stylers": [ { "visibility": "off" } ] }, { "featureType": "administrative.locality", "elementType": "labels.text.fill", "stylers": [ { "color": "#bdbdbd" } ] }, { "featureType": "poi", "elementType": "labels.text.fill", "stylers": [ { "color": "#757575" } ] }, { "featureType": "poi.park", "elementType": "geometry", "stylers": [ { "color": "#181818" } ] }, { "featureType": "poi.park", "elementType": "labels.text.fill", "stylers": [ { "color": "#616161" } ] }, { "featureType": "poi.park", "elementType": "labels.text.stroke", "stylers": [ { "color": "#1b1b1b" } ] }, { "featureType": "road", "elementType": "geometry.fill", "stylers": [ { "color": "#2c2c2c" } ] }, { "featureType": "road", "elementType": "labels.text.fill", "stylers": [ { "color": "#8a8a8a" } ] }, { "featureType": "road.arterial", "elementType": "geometry", "stylers": [ { "color": "#373737" } ] }, { "featureType": "road.highway", "elementType": "geometry", "stylers": [ { "color": "#3c3c3c" } ] }, { "featureType": "road.highway.controlled_access", "elementType": "geometry", "stylers": [ { "color": "#4e4e4e" } ] }, { "featureType": "road.local", "elementType": "labels.text.fill", "stylers": [ { "color": "#616161" } ] }, { "featureType": "transit", "elementType": "labels.text.fill", "stylers": [ { "color": "#757575" } ] }, { "featureType": "water", "elementType": "geometry", "stylers": [ { "color": "#000000" } ] }, { "featureType": "water", "elementType": "labels.text.fill", "stylers": [ { "color": "#3d3d3d" } ] } ]
    });

    heatmap = new google.maps.visualization.HeatmapLayer({
      map: map,
    });
    var gradient = [
      'rgba(0, 255, 0, 0)',
      'rgba(0,255,0,1)',
      'rgba(255,255,0,1)',
      'rgba(255, 0, 0, 1)'
    ]
    heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
    heatmap.set('opacity', heatmap.get('opacity') ? null : 1.0);

  }
  initMap();
</script>


{% endblock %}